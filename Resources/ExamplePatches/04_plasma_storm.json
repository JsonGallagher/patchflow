{
  "nodes": [
    {
      "id": "node_1",
      "typeId": "AudioInput",
      "x": 100,
      "y": 300,
      "params": {}
    },
    {
      "id": "node_2",
      "typeId": "FFTAnalyzer",
      "x": 320,
      "y": 200,
      "params": {
        "fftOrder": 11,
        "windowType": 0
      }
    },
    {
      "id": "node_3",
      "typeId": "EnvelopeFollower",
      "x": 320,
      "y": 500,
      "params": {
        "attackMs": 5.0,
        "releaseMs": 80.0
      }
    },
    {
      "id": "node_4",
      "typeId": "BandSplitter",
      "x": 520,
      "y": 200,
      "params": {
        "crossover1": 60.0,
        "crossover2": 250.0,
        "crossover3": 2000.0,
        "crossover4": 6000.0
      }
    },
    {
      "id": "node_5",
      "typeId": "Smoothing",
      "x": 720,
      "y": 120,
      "params": {
        "smoothing": 0.93
      }
    },
    {
      "id": "node_6",
      "typeId": "Smoothing",
      "x": 720,
      "y": 260,
      "params": {
        "smoothing": 0.9
      }
    },
    {
      "id": "node_7",
      "typeId": "Smoothing",
      "x": 720,
      "y": 400,
      "params": {
        "smoothing": 0.88
      }
    },
    {
      "id": "node_8",
      "typeId": "ShaderVisual",
      "x": 940,
      "y": 280,
      "params": {
        "fragmentShader": "uniform float u_time;\nuniform vec2 u_resolution;\nuniform float u_param1;\nuniform float u_param2;\nuniform float u_param3;\nuniform float u_param4;\nuniform sampler2D u_spectrum;\n\nvoid main() {\n    vec2 uv = gl_FragCoord.xy / u_resolution;\n    vec2 p = uv * 2.0 - 1.0;\n    p.x *= u_resolution.x / u_resolution.y;\n\n    float t = u_time * (0.3 + u_param4 * 0.5);\n    float sub = u_param1 * 10.0;\n    float mid = u_param2 * 10.0;\n    float high = u_param3 * 10.0;\n\n    float v1 = sin(p.x * 2.0 + t + sub);\n    float v2 = sin(p.y * 2.0 + t * 0.7 + mid);\n    float v3 = sin((p.x + p.y) * 1.5 + t * 0.5 + high);\n    float v4 = sin(length(p) * 3.0 - t * 0.8 + sub * 0.5);\n\n    float plasma = (v1 + v2 + v3 + v4) * 0.25;\n\n    vec3 col;\n    col.r = sin(plasma * 3.14159 + 0.0) * 0.5 + 0.5;\n    col.g = sin(plasma * 3.14159 + 2.094) * 0.5 + 0.5;\n    col.b = sin(plasma * 3.14159 + 4.188) * 0.5 + 0.5;\n\n    col *= 0.5 + u_param4 * 0.5;\n\n    gl_FragColor = vec4(col, 1.0);\n}\n"
      }
    },
    {
      "id": "node_9",
      "typeId": "OutputCanvas",
      "x": 1160,
      "y": 280,
      "params": {
        "bgR": 0.0,
        "bgG": 0.0,
        "bgB": 0.0
      }
    }
  ],
  "connections": [
    { "sourceNode": "node_1", "sourcePort": 0, "destNode": "node_2", "destPort": 0 },
    { "sourceNode": "node_1", "sourcePort": 0, "destNode": "node_3", "destPort": 0 },
    { "sourceNode": "node_2", "sourcePort": 0, "destNode": "node_4", "destPort": 0 },
    { "sourceNode": "node_4", "sourcePort": 0, "destNode": "node_5", "destPort": 0 },
    { "sourceNode": "node_4", "sourcePort": 2, "destNode": "node_6", "destPort": 0 },
    { "sourceNode": "node_4", "sourcePort": 3, "destNode": "node_7", "destPort": 0 },
    { "sourceNode": "node_5", "sourcePort": 0, "destNode": "node_8", "destPort": 0 },
    { "sourceNode": "node_6", "sourcePort": 0, "destNode": "node_8", "destPort": 1 },
    { "sourceNode": "node_7", "sourcePort": 0, "destNode": "node_8", "destPort": 2 },
    { "sourceNode": "node_3", "sourcePort": 0, "destNode": "node_8", "destPort": 3 },
    { "sourceNode": "node_8", "sourcePort": 0, "destNode": "node_9", "destPort": 0 }
  ]
}
